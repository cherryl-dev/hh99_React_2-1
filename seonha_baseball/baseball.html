<!-- - 구현은 아래와 같은 순서로 진행해보세요.
    1. 랜덤 숫자 만들기
    2. 한자리 숫자에 대해 볼, 스크라이크 판단 하는 부분 구현하기
    3. 볼, 스트라이크를 표현하는 부분 구현하기
    4. 게임 종료하는 부분 구현하기 -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>숫자 야구 게임</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="container">
        <h1> 숫자 야구 게임 </h1>
        <p>숫자를 생성하였습니다. 답을 맞춰보세요!</p>
        <input type="number" id="guessInput" min="0" max="999" placeholder="숫자를 입력하세요" maxlength="3">
        <button onclick="checkGuess()">시도</button>
        <div id="result"></div>
    </div>

    <script>
        let secretNumber = generateSecretNumber();
        let numbers = [];
        let attempts = 0;


        // 서로 다른 세 개의 0부터 9까지의 무작위 숫자를 생성하여 배열에 저장

        // 랜덤 숫자 생성
        function generateSecretNumber() {
            let numbers = [];
            while (numbers.length < 3) {
                let randomNumber = Math.floor(Math.random() * 10);
                if (!numbers.includes(randomNumber)) {
                    numbers.push(randomNumber);
                }
            }
            return numbers;
        }


        // 사용자(유저)가 입력한 내용 확인
        function checkGuess() {
            let guess = document.getElementById("guessInput").value;
            if (guess.length !== 3 || !isUnique(guess)) {
                alert("0부터 9까지의 서로 다른 숫자 3개를 입력하세요.");
                return;
            }

            attempts++;

            // 사용자 숫자와 랜덤 숫자 비교 (스트라이크/볼) 계산
            // 숫자 비교
            let strikes = 0;
            let balls = 0;
            let guessArray = guess.split('').map(Number);

            for (let i = 0; i < 3; i++) {
                if (secretNumber[i] === guessArray[i]) {
                    strikes++;
                } else if (secretNumber.includes(guessArray[i])) {
                    balls++;
                }
            }

            let resultText = `${strikes}S ${balls}B`;


            // 게임 종료 시 결과 표시, 종료되지 않았을 땐 숫자시도 정보 표시
            if (strikes === 3) {
                resultText += `<br>${attempts}번째 시도에서 ${guess}를 맞추셨습니다. 게임을 종료합니다.`;
                document.getElementById("guessInput").disabled = true;
            } else {
                resultText = `${attempts}번째 시도 : ${guess} - ${resultText}`;
            }

            document.getElementById("result").innerHTML += resultText + "<br>";

            document.getElementById("guessInput").value = "";
        }

        // 중복된 숫자 확인 (중복된 숫자가 없으면 true, 있으면 false반환)
        function isUnique(number) {
            return new Set(number).size === number.length;
        }
    </script>
</body>

</html>